<!DOCTYPE html>
<!--   -->
<html>
  <head>
    <title>Ajax</title>
    <meta charset="utf-8"/>
    <style type="text/css">

    </style>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  </head>

  <body>
    <div id="requestNHL">
      <input id="requestNHL" type="button" value="NHL Team Rankings:" />
        Team Name:<input id="requestNHlPlayersTeam" type="text"></input>
      <input id="requestNHLPlayersByTeam" type="button" value="NHL Players By Team:" />
    </div>

   <div id="requestNBA">
      <input id="requestNBA" type="button" value="NBA Team Rankings" />
      Team Name:<input id="requestNBAPlayersTeam" type="text"></input>
      <input id="requestNBAPlayersByTeam" type="button" value="NHL Players By Team:" />
    </div>

     <div id="requestNBAPlayer">
      First Name:<input id="requestNBAPlayerFirst" type="text"></input>
      Last Name:<input id="requestNBAPlayerLast" type="text"></input>
      <input id="requestNBAPlayer" type="button" value="RequestNBAPlayer" />
    </div>
    <div id="requestNHLPlayer">
     First Name:<input id="requestNHLPlayerFirst" type="text"></input>
     Last Name:<input id="requestNHLPlayerLast" type="text"></input>
     <input id="requestNHLPlayer" type="button" value="RequestNHLPlayer" />
   </div>
  <ul id="list"></ul>

  <table id='sports' style='border:2px solid black'>
  </table>
  <table id='playerStats' style='border:2px solid black'>
  </table>



    <script>
      function success(data) {
        $("#sports").empty();
        console.log(data.info);
        for (let i=0;i<data.info.length;i++) {


           $("#sports").append("<tr><td>"  + data.info[i].team.Name + "</td>"  +
                               //"<td>" + data.info[i].player.LastName + "</td>" +
                               "<td>" + data.info[i].rank + "</td></tr>");

        }

      }
      function requestPlayerSuccess(data) {

        $("#sports").empty();

      console.log(data.info);


        $("#playerStats").append("<tr><td>Firstname</td>"  +
                            "<td>Lastname</td>" +
                            "<td>Height</td>"+
                            "<td>Age</td>"+
                            "<td>Team</td>"+
                            "<td>Position</td></tr>");
         $("#playerStats").append("<tr><td>" + data.info.player.FirstName + "</td>"  +
                             "<td>" + data.info.player.LastName + "</td>" +
                             "<td>" + data.info.player.Height + "</td>"+
                             "<td>" + data.info.player.Age + "</td>"+
                             "<td>" + data.info.team.Name + "</td>" +
                             "<td>" + data.info.player.Position + "</td></tr>");
      }
      function requestTeamSuccess(data) {

        $("#sports").empty();
        console.log(data.info);
        for (let i=0;i<data.info.length;i++) {


           $("#sports").append("<tr><td>"  + data.info[i].team.Name + "</td>"  +
                               //"<td>" + data.info[i].player.LastName + "</td>" +
                               "<td>" + data.info[i].rank + "</td></tr>");

        }


      }

      function requestClicked(){
//send an HTTP get request and get a result back.
      $.get("/requestNHL", success);
        return false;
      }

       function requestNBAClicked(){
//send an HTTP get request and get a result back.
      $.get("/requestNBA", success);
        return false;
      }

       function requestNBAPlayerClicked(){
//send an HTTP get request and get a result back.
      $.get("/requestNBA/firstname=" + $("#requestNBAPlayerFirst").val() + "&lastname=" + $('#requestNBAPlayerLast').val() + "",
            {firstname:$("#requestNBAPlayerFirst").val(),
            lastname:$('#requestNBAPlayerLast').val()},
            requestPlayerSuccess);
        return false;
      }
      function requestNHLPlayerClicked(){
//send an HTTP get request and get a result back.
     $.get("/requestNHL/",
           {firstname:$("#requestNHLPlayerFirst").val(),
           lastname:$('#requestNHLPlayerLast').val()},
           requestPlayerSuccess);
       return false;
     }

     function requestNBATeamClicked(){
//send an HTTP get request and get a result back.
    $.get("/requestNBAPlayers/",
          {firstname:$("#requestNBAPlayerFirst").val(),
          lastname:$('#requestNBAPlayerLast').val()},
          requestPlayerSuccess);
      return false;
    }
    function requestNHLTeamClicked(){
//send an HTTP get request and get a result back.
   $.get("/requestNHLPlayers/firstname=" + $("#requestNHLPlayerFirst").val() + "&lastname=" + $('#requestNHLPlayerLast').val() + "",
         {firstname:$("#requestNHLPlayerFirst").val(),lastname:$('#requestNHLPlayerLast').val()}, requestPlayerSuccess);
     return false;
   }


      $(document).ready(function(){
        $("#requestNHL").click(requestClicked);
        $("#requestNBA").click(requestNBAClicked);
        $("#requestNBAPlayer").click(requestNBAPlayerClicked);
        $("#requestNHLPlayer").click(requestNHLPlayerClicked);
        $("#requestNBAPlayersByTeam").click(requestNBATeamClicked);
        $("#requestNHLPlayersByTeam").click(requestNHLTeamClicked);

      });

    </script>
  </body>
</html>
